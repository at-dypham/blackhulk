<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="post-page">
  <template>
    <!--Temporary duplicated things-->
    <!--FIXME: Please DRY it-->

    <style>
      :host {
        --a-style: {
          text-decoration: none;
          color: #000;
        }
      }

      :host ::content a, :host ::content a:hover, :host ::content a:visited {
        @apply(--a-style);
      }

      paper-toolbar .title {
        line-height: 1.1;
      }

      paper-toolbar.light {
        color: black;
      }

      paper-toolbar.dark {
        color: #eee;
      }

      paper-toolbar .middle.title {
        text-align: center;
        @apply(--paper-font-display1);
      }

      paper-toolbar .middle.title p {
        text-align: center;
        @apply(--paper-font-body1);
      }

      :host ::content paper-scroll-header-panel {
        height: 100%;
      }

      paper-toolbar {
        background-color: transparent;
      }

      paper-scroll-header-panel {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;

        --paper-scroll-header-panel-condensed-header: {
          background-color: var(--google-green-300);
        };
      }

      :host ::content .like {
        width: 50%;
      }

      twitter-button {
        margin-right: 10px;
      }
    </style>

    <iron-ajax
      auto
      url="[[url]]"
      last-response="{{items}}"
    ></iron-ajax>


    <paper-scroll-header-panel
      class="fit"
      condenses
      keep-condensed-header
    >

      <paper-toolbar class="tall light">
        <a href="#/">
          <paper-icon-button icon="home"></paper-icon-button>
        </a>

        <a href="#/">
          <div class="top title">Blog title</div>
        </a>

        <div class="middle title">
          Blog title
          <p>Blog Description I am a developer</p>
        </div>
      </paper-toolbar>

      <blackhulk-post item="[[items.0]]"></blackhulk-post>

      <div class="horizontal layout center-center">
        <div class="like">
          <twitter-button type="share" href="[[pageURL()]]" class="flex"></twitter-button>
          <facebook-button href="[[pageURL()]]" class="flex"></facebook-button>
          <disqus-comments shortname="kevintranninja"></disqus-comments>
        </div>
      </div>

    </paper-scroll-header-panel>
  </template>

  <script>
    Polymer({
      is: "post-page",
      properties: {
        url: {
          type: String,
          value: "https://gist.githubusercontent.com/duykhoa/dbf1189d6a1afdfff021/raw/d695f29a83cc44acfd01623669b0243287f06a92/data.json"
        }
      },
      pageURL: function() {
        return location.href;
      }
    })
  </script>
</polymer-element>
